<div class="card">
  <div class="card-header">Sign Up Form!</div>

  <div class="card-body">
    <form
      novalidate
      autocomplete="off"
      #signupForm="ngForm"
      (ngSubmit)="onSubmit(signupForm)">
      <div class="row form-group">
        <label class="col-md-2 col-form-label" for="firstname">First Name</label>
        <div class="col-md-8">
          <input
            type="text"
            class="form-control"
            id="firstname"
            placeholder="First Name (required)"
            name="firstname"
            [(ngModel)]="user.firstname"
            required
            minlength="3"
            #firstname="ngModel"
            [ngClass]="{'is-invalid': (firstname.touched || firstname.dirty) && firstname.invalid }" >
            <span class="invalid-feedback">
              <span *ngIf="firstname.errors?.required">Please enter your first name.</span>
              <span *ngIf="firstname.errors?.minlength">The first name must be longer than 3 characters.</span>
            </span>
        </div>
      </div>

      <div class="row form-group">
        <label class="col-md-2 col-form-label" for="lastname">Last Name</label>
        <div class="col-md-8">
          <input
            type="text"
            class="form-control"
            id="lastname"
            placeholder="Last Name (required)"
            name="lastname"
            required
            [(ngModel)]="user.lastname"
            #lastname="ngModel"
            [ngClass]="{'is-invalid': (lastname.touched || lastname.dirty) && lastname.invalid}">
            <span class="invalid-feedback">
              <span *ngIf="lastname.errors?.required">Please enter your last name.</span>
            </span>
        </div>
      </div>

      <div class="row form-group">
        <label class="col-md-2 col-form-label" for="email">Email</label>
        <div class="col-md-8">
          <input
            type="email"
            class="form-control"
            id="email"
            placeholder="Email (required)"
            name="email"
            email
            required
            [(ngModel)]="user.email"
            #email="ngModel"
            [ngClass]="{'is-invalid': (email.touched || email.dirty) && email.invalid}">
            <span class="invalid-feedback">
              <span *ngIf="email.errors?.required">Please enter your email address.</span>
              <span *ngIf="email.errors?.email">Please enter a valid email address.</span>
            </span>
        </div>
      </div>

      <div class="row form-group">
        <div class="col-md-8">
          <div class="form-check">
            <label class="form-check-label">
              <input
                type="checkbox"
                class="form-check-input"
                id="sendCatalog"
                name="sendCatalog"
                [(ngModel)]="user.sendCatalog"> Send me your catalog
            </label>
          </div>
        </div>
      </div>

      <div *ngIf="user.sendCatalog" >
        <div class="row form-group">
          <label class="col-md-2 col-form-label pt-0">Address Type</label>
          <div class="col-md-8">
            <div class="form-check form-check-inline">
              <label class="form-check-label">
                <input
                  type="radio"
                  class="form-check-input"
                  id="addressType1"
                  value="home"
                  name="addressType"
                  [(ngModel)]="user.addressType"> Home
              </label>
            </div>
            <div class="form-check form-check-inline">
              <label class="form-check-label">
                <input
                  type="radio"
                  class="form-check-input"
                  id="addressType1"
                  value="work"
                  name="addressType"
                  [(ngModel)]="user.addressType"> Work
              </label>
            </div>
            <div class="form-check form-check-inline">
              <label class="form-check-label">
                <input
                  type="radio"
                  class="form-check-input"
                  id="addressType1"
                  value="other"
                  name="addressType"
                  [(ngModel)]="user.addressType"> Other
              </label>
            </div>
          </div>
        </div>

        <div class="row form-group">
          <div class="col-md-2 col-form-label" for="streetAddress1">Street Address 1</div>
          <div class="col-md-8">
            <input
              type="text"
              class="form-control"
              id="streetAddress1"
              placeholder="Street address"
              name="street1"
              [(ngModel)]="user.street1">
          </div>
        </div>

        <div class="row form-group">
          <div class="col-md-2 col-form-label" for="streetAddress2">Street Address 2</div>
          <div class="col-md-8">
            <input
              type="text"
              class="form-control"
              id="streetAddress2"
              placeholder="Street address (second line)"
              name="street2"
              [(ngModel)]="user.street2">
          </div>
        </div>

        <div class="row form-group">
          <label class="col-md-2 col-form-label">City, State, Zip Code</label>
          <div class="col-md-3">
              <input
                type="text"
                class="form-control"
                id="city"
                placeholder="City"
                name="city"
                [(ngModel)]="user.city">
          </div>
          <div class="col-md-3">
            <select
              class="form-control"
              id="state"
              name="state"
              [(ngModel)]="user.state">
              <option
                value=""
                disabled
                selected
                hidden>Select a State...</option>
              <option value="AL">Alabama</option>
              <option value="AK">Alaska</option>
              <option value="AZ">Arizona</option>
              <option value="AR">Arkansas</option>
              <option value="CA">California</option>
              <option value="CO">Colorado</option>
              <option value="WI">Wisconsin</option>
              <option value="WY">Wyoming</option>
            </select>
          </div>
          <div class="col-md-2">
              <input
                type="number"
                class="form-control"
                id="zip"
                placeholder="Zip Code"
                name="zip"
                [(ngModel)]="user.zip">
          </div>
        </div>
      </div>

      <div class="row form-group">
        <div class="col-md-4">
          <button
            type="submit"
            class="btn btn-primary"
            [disabled]="signupForm.invalid">Sign Up</button>
        </div>
      </div>
    </form>
  </div>
</div>
<br>Dirty: {{ signupForm.dirty }}
<br>Touched: {{ signupForm.touched }}
<br>Valid: {{ signupForm.valid }}
<br>Value: {{ signupForm.value | json }}
